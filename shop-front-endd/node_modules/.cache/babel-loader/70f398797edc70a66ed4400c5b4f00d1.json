{"ast":null,"code":"var _jsxFileName = \"/Users/alikhan/Desktop/shop-front-endd/src/components/product-list/index.js\";\nimport React, { Component } from 'react';\nimport { Card, Row, Col } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\n\nclass ProductList extends Component {\n  constructor() {\n    super();\n\n    this.onClick = id => {\n      return () => {\n        this.props.history.push(`/product/${id}`);\n      };\n    };\n\n    this.onChange = e => {\n      this.setState({\n        search: e.target.value\n      });\n      this.requestBack(e.target.value, this.state.cat_id);\n    };\n\n    this.requestBack = (search, cat_id) => {\n      axios.get(`/api/products/${search}/${cat_id}/search`).then(res => {\n        this.setState({\n          products: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.filterByCategory = cat_id => {\n      this.setState({\n        cat_id\n      });\n      this.requestBack(this.state.search, cat_id);\n    };\n\n    this.state = {\n      products: [],\n      count: 0,\n      title: \"Hello\",\n      search: \"\",\n      categories: [],\n      cat_id: 0\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"1\");\n    axios.get('/api/products').then(res => {\n      this.setState({\n        products: res.data\n      });\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get('/api/categories/').then(res => {\n      this.setState({\n        categories: res.data\n      });\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          products = _this$state.products,\n          categories = _this$state.categories;\n    console.log(categories);\n    const categoriesList = categories.map(cat => React.createElement(\"li\", {\n      onClick: () => this.filterByCategory(cat.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, cat.category));\n    const productList = products.map(item => React.createElement(Col, {\n      span: 8,\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Card, {\n      onClick: this.onClick(item.id),\n      title: \"Default size card\",\n      extra: React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"More\"),\n      style: {\n        marginBottom: \"16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, item.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, item.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, item.price))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, categoriesList), React.createElement(\"input\", {\n      value: this.state.search,\n      onChange: this.onChange,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), this.state.title, React.createElement(Row, {\n      gutter: 16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, productList));\n  }\n\n}\n\nexport default withRouter(ProductList);","map":{"version":3,"sources":["/Users/alikhan/Desktop/shop-front-endd/src/components/product-list/index.js"],"names":["React","Component","Card","Row","Col","withRouter","axios","ProductList","constructor","onClick","id","props","history","push","onChange","e","setState","search","target","value","requestBack","state","cat_id","get","then","res","products","data","console","log","catch","err","filterByCategory","count","title","categories","bind","componentDidMount","render","categoriesList","map","cat","category","productList","item","marginBottom","name","price"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAcC,GAAd,EAAkBC,GAAlB,QAA6B,MAA7B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,WAAN,SAA0BN,SAA1B,CAAmC;AAC/BO,EAAAA,WAAW,GAAE;AACT;;AADS,SAcbC,OAda,GAcFC,EAAD,IAAQ;AACf,aAAO,MAAM;AACT,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAyB,YAAWH,EAAG,EAAvC;AACH,OAFD;AAGF,KAlBY;;AAAA,SA0CbI,QA1Ca,GA0CDC,CAAD,IAAO;AAChB,WAAKC,QAAL,CAAc;AAACC,QAAAA,MAAM,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAlB,OAAd;AACA,WAAKC,WAAL,CAAiBL,CAAC,CAACG,MAAF,CAASC,KAA1B,EAAiC,KAAKE,KAAL,CAAWC,MAA5C;AACD,KA7CY;;AAAA,SA8CbF,WA9Ca,GA8CC,CAACH,MAAD,EAASK,MAAT,KAAoB;AAChChB,MAAAA,KAAK,CAACiB,GAAN,CAAW,iBAAgBN,MAAO,IAAGK,MAAO,SAA5C,EACGE,IADH,CACQC,GAAG,IAAI;AACT,aAAKT,QAAL,CAAc;AAACU,UAAAA,QAAQ,EAAED,GAAG,CAACE;AAAf,SAAd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACH,OAJH,EAKGG,KALH,CAKSC,GAAG,IAAI;AACVH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACL,OAPD;AAQD,KAvDY;;AAAA,SAyDbC,gBAzDa,GAyDOV,MAAD,IAAY;AAC7B,WAAKN,QAAL,CAAc;AAACM,QAAAA;AAAD,OAAd;AACA,WAAKF,WAAL,CAAiB,KAAKC,KAAL,CAAWJ,MAA5B,EAAoCK,MAApC;AACD,KA5DY;;AAGT,SAAKD,KAAL,GAAa;AACTK,MAAAA,QAAQ,EAAE,EADD;AAETO,MAAAA,KAAK,EAAE,CAFE;AAGTC,MAAAA,KAAK,EAAE,OAHE;AAITjB,MAAAA,MAAM,EAAE,EAJC;AAKTkB,MAAAA,UAAU,EAAE,EALH;AAMTb,MAAAA,MAAM,EAAE;AANC,KAAb;AAQA,SAAKR,QAAL,GAAgB,KAAKA,QAAL,CAAcsB,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAQDC,EAAAA,iBAAiB,GAAE;AACfT,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACFvB,IAAAA,KAAK,CAACiB,GAAN,CAAU,eAAV,EACGC,IADH,CACQC,GAAG,IAAI;AACT,WAAKT,QAAL,CAAc;AAACU,QAAAA,QAAQ,EAAED,GAAG,CAACE;AAAf,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACH,KAJH,EAKGG,KALH,CAKSC,GAAG,IAAI;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KAPH;AAUEzB,IAAAA,KAAK,CAACiB,GAAN,CAAU,kBAAV,EACGC,IADH,CACQC,GAAG,IAAI;AACT,WAAKT,QAAL,CAAc;AAACmB,QAAAA,UAAU,EAAEV,GAAG,CAACE;AAAjB,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACH,KAJH,EAKGG,KALH,CAKSC,GAAG,IAAI;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KAPH;AAQH;;AAsBDO,EAAAA,MAAM,GAAE;AAAA,wBAC2B,KAAKjB,KADhC;AAAA,UACGK,QADH,eACGA,QADH;AAAA,UACaS,UADb,eACaA,UADb;AAEJP,IAAAA,OAAO,CAACC,GAAR,CAAYM,UAAZ;AACA,UAAMI,cAAc,GAAGJ,UAAU,CAACK,GAAX,CAAeC,GAAG,IACzC;AAAI,MAAA,OAAO,EAAE,MAAI,KAAKT,gBAAL,CAAsBS,GAAG,CAAC/B,EAA1B,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiD+B,GAAG,CAACC,QAArD,CADuB,CAAvB;AAGA,UAAMC,WAAW,GAAGjB,QAAQ,CAACc,GAAT,CAAaI,IAAI,IACnC,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAc,MAAA,GAAG,EAAIA,IAAI,CAAClC,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACM,MAAA,OAAO,EAAE,KAAKD,OAAL,CAAamC,IAAI,CAAClC,EAAlB,CADf;AAEM,MAAA,KAAK,EAAC,mBAFZ;AAGM,MAAA,KAAK,EAAE;AAAG,QAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHb;AAIM,MAAA,KAAK,EAAE;AAAEmC,QAAAA,YAAY,EAAE;AAAhB,OAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,IAAI,CAAClC,EAAT,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIkC,IAAI,CAACE,IAAT,CANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,IAAI,CAACG,KAAT,CAPF,CADF,CADkB,CAApB;AAeA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGR,cADH,CADF,EAIE;AAAO,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWJ,MAAzB;AAAiC,MAAA,QAAQ,EAAE,KAAKH,QAAhD;AAA0D,MAAA,IAAI,EAAC,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKG,KAAKO,KAAL,CAAWa,KALd,EAME,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAI,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGS,WADH,CANF,CADF;AAaH;;AAjG8B;;AAoGnC,eAAetC,UAAU,CAACE,WAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport { Card,Row,Col } from 'antd'\r\nimport {withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n\r\nclass ProductList extends Component{\r\n    constructor(){\r\n        super()\r\n\r\n        this.state = {\r\n            products: [],\r\n            count: 0,\r\n            title: \"Hello\",\r\n            search: \"\",\r\n            categories: [],\r\n            cat_id: 0\r\n        }\r\n        this.onChange = this.onChange.bind(this)\r\n    }\r\n\r\n    onClick = (id) => {\r\n       return () => {\r\n           this.props.history.push(`/product/${id}`)\r\n       }\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(\"1\")\r\n      axios.get('/api/products')\r\n        .then(res => {\r\n            this.setState({products: res.data})\r\n            console.log(res.data)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n\r\n\r\n        axios.get('/api/categories/')\r\n          .then(res => {\r\n              this.setState({categories: res.data})\r\n              console.log(res.data)\r\n          })\r\n          .catch(err => {\r\n              console.log(err)\r\n          })\r\n    }\r\n\r\n    onChange = (e) => {\r\n      this.setState({search: e.target.value})\r\n      this.requestBack(e.target.value, this.state.cat_id)\r\n    }\r\n    requestBack = (search, cat_id) => {\r\n      axios.get(`/api/products/${search}/${cat_id}/search`)\r\n        .then(res => {\r\n            this.setState({products: res.data})\r\n            console.log(res.data)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n      })\r\n    }\r\n\r\n    filterByCategory = (cat_id) => {\r\n      this.setState({cat_id})\r\n      this.requestBack(this.state.search, cat_id)\r\n    }\r\n\r\n    render(){\r\n        const {products, categories} = this.state\r\n        console.log(categories)\r\n        const categoriesList = categories.map(cat => (\r\n        <li onClick={()=>this.filterByCategory(cat.id)}>{cat.category}</li>\r\n        ))\r\n        const productList = products.map(item =>(\r\n          <Col span={8} key = {item.id}>\r\n            <Card \r\n                  onClick={this.onClick(item.id)}\r\n                  title=\"Default size card\"\r\n                  extra={<a href=\"#\">More</a>}\r\n                  style={{ marginBottom: \"16px\", }}>\r\n              <p>{item.id}</p>\r\n              <p>{item.name}</p>\r\n              <p>{item.price}</p>\r\n              {/*<p>{item.category.category}</p>*/}\r\n              </Card>\r\n          </Col>\r\n        ))\r\n\r\n        return (\r\n          <div>\r\n            <ul>\r\n              {categoriesList}\r\n            </ul>\r\n            <input value={this.state.search} onChange={this.onChange} type=\"text\"  />\r\n            {this.state.title}\r\n            <Row gutter = {16}>\r\n              {productList}\r\n            </Row>\r\n          </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ProductList)\r\n"]},"metadata":{},"sourceType":"module"}