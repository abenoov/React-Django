{"ast":null,"code":"import { SET_CURRENT_USER } from './types';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport setAuthToken from '../../common/setAuthToken';\nexport const loginUser = userData => dispatch => {\n  axios.post('/api/token/', userData).then(res => {\n    localStorage.setItem('tokens', JSON.stringify(res.data));\n    setAuthToken(res.data.access);\n    const payload = jwt_decode(res.data.access);\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: payload.user_id\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem('tokens');\n  dispatch({\n    type: SET_CURRENT_USER,\n    payload: null\n  });\n};\nexport const signupUser = userData => dispatch => {\n  axios.post('/api/auth/signup', userData).then(res => {\n    loginUser(userData)(dispatch);\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["/Users/alikhan/Desktop/shop-front-endd/src/store/actions/authActions.js"],"names":["SET_CURRENT_USER","axios","jwt_decode","setAuthToken","loginUser","userData","dispatch","post","then","res","localStorage","setItem","JSON","stringify","data","access","payload","type","user_id","catch","err","console","log","logoutUser","removeItem","signupUser"],"mappings":"AAAA,SAAQA,gBAAR,QAA+B,SAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEA,OAAO,MAAMC,SAAS,GAAGC,QAAQ,IAAIC,QAAQ,IAAI;AAC7CL,EAAAA,KAAK,CAACM,IAAN,CAAW,aAAX,EAA0BF,QAA1B,EACKG,IADL,CACUC,GAAG,IAAI;AAETC,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAA/B;AACAX,IAAAA,YAAY,CAACM,GAAG,CAACK,IAAJ,CAASC,MAAV,CAAZ;AACA,UAAMC,OAAO,GAAGd,UAAU,CAACO,GAAG,CAACK,IAAJ,CAASC,MAAV,CAA1B;AACAT,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEjB,gBADD;AAELgB,MAAAA,OAAO,EAAEA,OAAO,CAACE;AAFZ,KAAD,CAAR;AAIH,GAVL,EAWKC,KAXL,CAWWC,GAAG,IAAE;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAbL;AAcH,CAfM;AAkBP,OAAO,MAAMG,UAAU,GAAG,MAAMjB,QAAQ,IAAI;AACxCI,EAAAA,YAAY,CAACc,UAAb,CAAwB,QAAxB;AACAlB,EAAAA,QAAQ,CAAC;AACLW,IAAAA,IAAI,EAAEjB,gBADD;AAELgB,IAAAA,OAAO,EAAE;AAFJ,GAAD,CAAR;AAIH,CANM;AASP,OAAO,MAAMS,UAAU,GAAGpB,QAAQ,IAAIC,QAAQ,IAAI;AAC9CL,EAAAA,KAAK,CAACM,IAAN,CAAW,kBAAX,EAA+BF,QAA/B,EACKG,IADL,CACUC,GAAG,IAAI;AACTL,IAAAA,SAAS,CAACC,QAAD,CAAT,CAAoBC,QAApB;AACH,GAHL,EAIKa,KAJL,CAIWC,GAAG,IAAG;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GANL;AAOH,CARM","sourcesContent":["import {SET_CURRENT_USER} from './types'\nimport axios from 'axios'\nimport jwt_decode from 'jwt-decode'\nimport setAuthToken from '../../common/setAuthToken'\n\nexport const loginUser = userData => dispatch => {\n    axios.post('/api/token/', userData)\n        .then(res => {\n            \n            localStorage.setItem('tokens', JSON.stringify(res.data))\n            setAuthToken(res.data.access)\n            const payload = jwt_decode(res.data.access)\n            dispatch({\n                type: SET_CURRENT_USER,\n                payload: payload.user_id\n            })\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n}\n\n\nexport const logoutUser = () => dispatch => {\n    localStorage.removeItem('tokens')\n    dispatch({\n        type: SET_CURRENT_USER,\n        payload: null\n    })\n}\n\n\nexport const signupUser = userData => dispatch => {\n    axios.post('/api/auth/signup', userData)\n        .then(res => {\n            loginUser(userData)(dispatch)\n        })\n        .catch(err=> {\n            console.log(err)\n        })\n}"]},"metadata":{},"sourceType":"module"}